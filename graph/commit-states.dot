digraph commit_states {
	rankdir="LR";

	red [label="Red"];
	{
		rank=same;
		mb [label="Merge\nor Beige"];
		refactor [label="Refactor"];
	}
	node [shape=box];
	initial [label="Initial"];
	green [label="Green"];

	initial -> red;
	initial -> mb [constraint=false];

	red -> green [color=blue];

	green -> red [color=blue];
	green -> mb;
	green -> refactor [color=blue];

	mb -> red;
	mb -> refactor;
	mb -> mb;

	refactor -> red [color=blue];
	refactor -> refactor [color=blue];
	refactor -> mb;
}
